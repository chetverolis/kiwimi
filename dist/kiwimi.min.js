let kiwimi={version:"v0.1.0",modal:function(){let t,e=document.querySelector('meta[name="viewport"]'),l=document.querySelectorAll('img[k_modal="1"]'),i=document.documentElement.clientWidth,s=document.documentElement.clientHeight;0==l.length&&(l=document.querySelectorAll("img"));const n=document.querySelector("body"),o=document.createElement("div"),a=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div"),r=document.createElement("div"),u=document.createElement("div");o.setAttribute("id","k_modal_window"),a.setAttribute("id","k_modal_window_fullscreen_box"),c.setAttribute("id","k_modal_window_goleft"),c.innerHTML='<svg id="57ffe82a-b38f-4b7d-8c43-39576884824a" class="k_svg_shadow" data-name="Слой 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 106.4 199.64"><defs><style>.efffb7a8-d69f-448f-90c5-d972f71b1dcd{fill:#fff;}</style></defs><title>Go left</title><line class="efffb7a8-d69f-448f-90c5-d972f71b1dcd" x1="99.68" y1="192.92" x2="6.72" y2="99.95"/><path class="efffb7a8-d69f-448f-90c5-d972f71b1dcd" d="M48.66,95.3,80,64,130.17,13.8,141.63,2.34c6.11-6.11,15.6,3.37,9.48,9.48L119.79,43.14,69.61,93.33l-6.86,6.85,26.72,26.71,50.18,50.19,11.46,11.46c6.12,6.11-3.37,15.6-9.48,9.49l-31.32-31.32L60.12,116.52,48.66,105.06a7.06,7.06,0,0,1,0-9.76Z" transform="translate(-46.69 -0.36)"/></svg>',d.setAttribute("id","k_modal_window_goright"),d.innerHTML='<svg id="9a970390-43da-49a1-b58a-78cf160b8dc8" class="k_svg_shadow" data-name="Слой 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 106.4 199.64"><defs><style>.b9cf38c3-007c-44b8-b55c-a7334b9179df{fill:#fff;}</style></defs><title>Go right</title><line class="b9cf38c3-007c-44b8-b55c-a7334b9179df" x1="6.72" y1="192.92" x2="99.68" y2="99.95"/><path class="b9cf38c3-007c-44b8-b55c-a7334b9179df" d="M151.11,95.3,119.8,64,69.61,13.8,58.15,2.34C52-3.77,42.55,5.71,48.66,11.82L80,43.14l50.19,50.19,6.85,6.85-26.71,26.71L60.12,177.08,48.66,188.54c-6.11,6.11,3.37,15.6,9.49,9.49l31.32-31.32,50.18-50.19,11.46-11.46a7.06,7.06,0,0,0,0-9.76Z" transform="translate(-46.69 -0.36)"/></svg>',r.setAttribute("id","k_modal_window_navigation"),u.setAttribute("id","k_modal_window_description"),o.setAttribute("style","display: none"),a.setAttribute("position","0"),n.append(o),o.append(a);for(let t=0;t<l.length;t++){const e=document.createElement("div");e.setAttribute("class","k_modal_window_fullscreen_box_block"),e.setAttribute("style",`display: inline-block; width: ${i}px; height: ${s}px; background-image: url('${l[t].getAttribute("src")}');`),a.append(e)}o.prepend(c),o.prepend(d),o.prepend(r),o.prepend(u),a.setAttribute("style",`width: ${i*l.length}px; position: absolute; z-index: 5;`);const b=document.querySelectorAll("div.k_modal_window_fullscreen_box_block");for(let t=0;t<b.length;t++){const t=document.createElement("div");t.setAttribute("class","k_block_miniatur"),r.append(t)}const p=document.querySelectorAll("div.k_block_miniatur");function g(e){t=a.getAttribute("position"),a.style.left=`calc(${t}px + ${e}px)`,a.setAttribute("position",`${+t+e}`),t<=0-(i*l.length-i)&&e<0&&(a.setAttribute("position","0"),a.style.left="0px"),t>=0&&e>0&&(a.setAttribute("position","-"+(i*l.length-i)),a.style.left=`-${i*l.length-i}px`),t=a.getAttribute("position");let s=Math.round(t/window.innerWidth);s<0&&(s*=-1),u.innerHTML=`${l[s].getAttribute("alt")}<br><span class="k_slide_num">Slide: ${s+1+" / "+p.length}</span>`,e<0?(s>0&&(p[s-1].style.background="rgba(255, 255, 255, 0)",p[s-1].style.boxShadow="0 0 4px rgba(0,0,0,0.4)"),0==s&&(p[p.length-1].style.background="rgba(255, 255, 255, 0)",p[p.length-1].style.boxShadow="0 0 4px rgba(0,0,0,0.4)"),p[s].style.background="#fff",p[s].style.boxShadow="0 0 4px rgba(0,0,0,0.8)"):(s>0&&s!=p.length-1&&(p[s+1].style.background="rgba(255, 255, 255, 0)",p[s+1].style.boxShadow="0 0 4px rgba(0,0,0,0.4)"),0==s&&(p[p.length-1].style.background="rgba(255, 255, 255, 0)",p[p.length-1].style.boxShadow="0 0 4px rgba(0,0,0,0.4)",p[s+1].style.background="rgba(255, 255, 255, 0)",p[s+1].style.boxShadow="0 0 4px rgba(0,0,0,0.4)"),s==p.length-1&&(p[0].style.background="rgba(255, 255, 255, 0)",p[0].style.boxShadow="0 0 4px rgba(0,0,0,0.4)"),p[s].style.background="#fff",p[s].style.boxShadow="0 0 4px rgba(0,0,0,0.8)")}for(let t=0;t<p.length;t++)p[t].addEventListener("click",(function(){if(u.innerHTML=`${l[t].getAttribute("alt")}<br><span class="k_slide_num">Slide: ${t+1+" / "+p.length}</span>`,0==t){a.style.left="0px",a.setAttribute("position","0");for(let t=0;t<p.length;t++)p[t].style.background="rgba(255, 255, 255, 0)",p[t].style.boxShadow="0 0 4px rgba(0,0,0,0.4)";p[t].style.background="#fff",p[t].style.boxShadow="0 0 4px rgba(0,0,0,0.8)"}else{a.style.left=`calc(${-i*t}px)`,a.setAttribute("position",""+-i*t);for(let t=0;t<p.length;t++)p[t].style.background="rgba(255, 255, 255, 0)",p[t].style.boxShadow="0 0 4px rgba(0,0,0,0.4)";p[t].style.background="#fff",p[t].style.boxShadow="0 0 4px rgba(0,0,0,0.8)"}}));c.addEventListener("click",(function(){g(i)})),d.addEventListener("click",(function(){g(-i)}));let f,y=0;if(0==y)for(let t=0;t<l.length;t++)l[t].addEventListener("click",(function(){document.body.setAttribute("style","touch-action: none;"),o.setAttribute("style","display: block;"),g(-i*t),u.innerHTML=`${l[t].getAttribute("alt")}<br><span class="k_slide_num">Slide: ${t+1+" / "+p.length}</span>`,p[t].style.background="#fff",i=document.documentElement.clientWidth,s=document.documentElement.clientHeight,f=document.documentElement.scrollTop;let n=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${n}px`),a.style.width=i*l.length+"px";const b=document.querySelectorAll("div.k_modal_window_fullscreen_box_block");for(let t=0;t<b.length;t++)b[t].setAttribute("style",`display: inline-block; width: ${i}px; height: calc(var(--vh, 1vh) * 100); background-image: url('${l[t].getAttribute("src")}');`);setTimeout((function(){u.style.top="20px"}),400),setTimeout((function(){m.style.top="20px"}),400),setTimeout((function(){x.style.top="20px"}),400),setTimeout((function(){c.style.left="20px"}),600),setTimeout((function(){d.style.right="20px"}),600),setTimeout((function(){r.style.opacity="1"}),800),e.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"),y=1}));const m=document.createElement("div");m.setAttribute("id","k_modal_window_fullscreen_box_close"),m.innerHTML='<svg id="a51f4591-2ad0-4603-b2c0-b1c20b87f54f" class="k_svg_shadow" data-name="Слой 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 198.16 200.01"><defs><style>.c703cfc0-9255-4dfd-b9f6-392939d6d582{fill:#fff;}</style></defs><title>Close</title><line class="c703cfc0-9255-4dfd-b9f6-392939d6d582" x1="185.62" y1="200.01" x2="98.89" y2="113.29"/><path class="c703cfc0-9255-4dfd-b9f6-392939d6d582" d="M195.16,177.38l-75.72-75.71-2.29-2.29q33.49-33.51,67-67l11-11c11.41-11.41-6.29-29.11-17.7-17.7L101.74,79.39l-2.29,2.29L33.09,15.31l-11-11C10.67-7.11-7,10.58,4.37,22L80.09,97.71,82.38,100l-67,67-11,11c-11.4,11.4,6.29,29.11,17.7,17.7L97.79,120l2.29-2.29,66.37,66.37,11,11C188.87,206.49,206.57,188.79,195.16,177.38Z" transform="translate(-0.69 0.01)"/></svg>',o.prepend(m);const h=document.createElement("div");h.setAttribute("id","k_modal_window_scale_img"),o.append(h);const x=document.createElement("div");x.setAttribute("id","k_modal_window_scale_plus"),x.innerHTML='<svg id="c445040e-14fa-499c-85bb-6a5773eae12d" class="k_svg_shadow" data-name="Слой 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 199.84 199.77"><defs><style>.cfda8cc8-a710-4356-887f-b4ac988b64d1{fill:#fff;}</style></defs><title>Scale</title><path class="cfda8cc8-a710-4356-887f-b4ac988b64d1" d="M196.16,178.38C173.41,155.64,180.75,162.75,158,140l-.51,0a87.53,87.53,0,1,0-17.41,17.42c0,.19-.06.37-.08.56,18.86,18.86,8.59,8.21,27.45,27.07l11,11C189.87,207.49,207.57,189.79,196.16,178.38ZM87.5,155A67.5,67.5,0,1,1,155,87.5,67.5,67.5,0,0,1,87.5,155Z"/><path class="cfda8cc8-a710-4356-887f-b4ac988b64d1" d="M122.67,77H96V51.22a8,8,0,0,0-16,0V77H50.67a8,8,0,0,0,0,16H80v30.22a8,8,0,0,0,16,0V93h26.67a8,8,0,0,0,0-16Z"/></svg>',o.prepend(x);const _=document.createElement("div");_.setAttribute("id","k_modal_window_scale_plus_two"),_.innerHTML='<svg id="c445040e-14fa-499c-85bb-6a5773eae12d" class="k_svg_shadow" data-name="Слой 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 199.84 199.77"><defs><style>.cfda8cc8-a710-4356-887f-b4ac988b64d1{fill:#fff;}</style></defs><title>scaleplus</title><path class="cfda8cc8-a710-4356-887f-b4ac988b64d1" d="M196.16,178.38C173.41,155.64,180.75,162.75,158,140l-.51,0a87.53,87.53,0,1,0-17.41,17.42c0,.19-.06.37-.08.56,18.86,18.86,8.59,8.21,27.45,27.07l11,11C189.87,207.49,207.57,189.79,196.16,178.38ZM87.5,155A67.5,67.5,0,1,1,155,87.5,67.5,67.5,0,0,1,87.5,155Z"/><path class="cfda8cc8-a710-4356-887f-b4ac988b64d1" d="M122.67,77H96V51.22a8,8,0,0,0-16,0V77H50.67a8,8,0,0,0,0,16H80v30.22a8,8,0,0,0,16,0V93h26.67a8,8,0,0,0,0-16Z"/></svg>',h.prepend(_);const k=document.createElement("div");k.setAttribute("id","k_modal_window_scale_minus"),k.innerHTML='<svg id="a0d0bda2-9f32-496e-a241-550898f274da" class="k_svg_shadow" data-name="Слой 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 199.84 199.77"><defs><style>.bda92906-6b15-4118-81cb-a852ea6c71d1{fill:#fff;}</style></defs><title>Безымянный-2</title><path class="bda92906-6b15-4118-81cb-a852ea6c71d1" d="M196.16,178.38C173.41,155.64,180.75,162.75,158,140l-.51,0a87.53,87.53,0,1,0-17.41,17.42c0,.19-.06.37-.08.56,18.86,18.86,8.59,8.21,27.45,27.07l11,11C189.87,207.49,207.57,189.79,196.16,178.38ZM87.5,155A67.5,67.5,0,1,1,155,87.5,67.5,67.5,0,0,1,87.5,155Z"/><path class="bda92906-6b15-4118-81cb-a852ea6c71d1" d="M123,77H51a8,8,0,0,0,0,16h72a8,8,0,0,0,0-16Z"/></svg>',h.prepend(k);const w=document.createElement("div");function v(){document.body.removeAttribute("style"),o.setAttribute("style","display: none"),a.setAttribute("position","0"),a.style.left="0px";for(let t=0;t<p.length;t++)p[t].style.background="rgba(255, 255, 255, 0)",p[t].style.boxShadow="0 0 4px rgba(0,0,0,0.4)";a.style.top="0";const t=document.body.style.top;document.body.style.position="",document.body.style.top="",window.scrollTo(0,-1*parseInt(t||"0")),e.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1"),u.style.top="-40px",m.style.top="-40px",x.style.top="-40px",c.style.left="-40px",d.style.right="-40px",r.style.opacity="0",y=0,document.documentElement.scrollTop=f}function A(){t=a.getAttribute("position");let e=Math.round(t/window.innerWidth);e<0&&(e*=-1),h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("zoom","0"),h.style.display="block",h.style.backgroundImage=`url('${l[e].getAttribute("src")}')`,k.style.display="block",k.style.transition="null",_.style.transition="null"}w.setAttribute("id","k_modal_window_info"),w.setAttribute("data-title",`Kiwi MI ${kiwimi.version} © Skvortsov Nikita Dmitrievich`),w.innerHTML='<?xml version="1.0" encoding="UTF-8"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="k_svg_shadow" viewBox="0 0 48 48" version="1.1"><g id="surface4624411"><path style=" stroke:none;fill-rule:nonzero;fill:rgba(255,255,255,.5);fill-opacity:1;" d="M 24 0 C 10.742188 0 0 10.742188 0 24 C 0 37.257812 10.742188 48 24 48 C 37.257812 48 48 37.257812 48 24 C 48 10.742188 37.257812 0 24 0 Z M 24 4 C 35.046875 4 44 12.953125 44 24 C 44 35.046875 35.046875 44 24 44 C 12.953125 44 4 35.046875 4 24 C 4 12.953125 12.953125 4 24 4 Z M 24 11.625 C 23.632812 11.625 23.328125 11.617188 23 11.6875 C 22.671875 11.757812 22.367188 11.9375 22.125 12.125 C 21.882812 12.3125 21.703125 12.570312 21.5625 12.875 C 21.421875 13.179688 21.375 13.539062 21.375 14 C 21.375 14.453125 21.421875 14.8125 21.5625 15.125 C 21.703125 15.4375 21.882812 15.6875 22.125 15.875 C 22.367188 16.0625 22.671875 16.171875 23 16.25 C 23.328125 16.328125 23.632812 16.375 24 16.375 C 24.359375 16.375 24.742188 16.328125 25.0625 16.25 C 25.382812 16.171875 25.632812 16.0625 25.875 15.875 C 26.117188 15.6875 26.296875 15.4375 26.4375 15.125 C 26.578125 14.820312 26.6875 14.453125 26.6875 14 C 26.6875 13.539062 26.578125 13.179688 26.4375 12.875 C 26.296875 12.570312 26.117188 12.3125 25.875 12.125 C 25.632812 11.9375 25.382812 11.757812 25.0625 11.6875 C 24.742188 11.617188 24.359375 11.625 24 11.625 Z M 21.5625 18.3125 L 21.5625 36.25 L 26.4375 36.25 L 26.4375 18.3125 Z M 21.5625 18.3125 "/></g></svg>',o.prepend(w),m.addEventListener("click",(function(){v()})),x.addEventListener("click",(function(){A()})),h.setAttribute("zoom","200"),_.addEventListener("click",(function(){let t=h.getAttribute("zoom");h.style.width=`calc(100% + ${t}px`,h.style.height=`calc(100% + ${t}px`,k.style.right=`calc(20px + ${t}px)`,_.style.right=`calc(100px + ${t}px)`,t=+t+200,h.setAttribute("zoom",`${t}`)}));let $=0;function L(){h.style.display="none",h.style.backgroundImage="url('')",k.style.display="none",h.style.backgroundPosition="0px 0px",h.style.width="100%",h.style.height="100%",k.style.right="20px",_.style.right="100px",k.style.transition="all 0.3s cubic-bezier(0.46, 0.03, 0.52, 0.96)",_.style.transition="all 0.3s cubic-bezier(0.46, 0.03, 0.52, 0.96)",setTimeout((function(){h.style.display="none",h.style.backgroundImage="url('')",k.style.display="none",h.style.backgroundPosition="0px 0px",h.style.width="100%",h.style.height="100%",k.style.right="20px",_.style.right="100px",k.style.transition="all 0.3s cubic-bezier(0.46, 0.03, 0.52, 0.96)",_.style.transition="all 0.3s cubic-bezier(0.46, 0.03, 0.52, 0.96)",h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("zoom","0")}),200),$=0}k.addEventListener("click",(function(){k_zoom=h.getAttribute("zoom"),k_zoom=0==$?+k_zoom-400:+k_zoom-200,$+=1,k_zoom>0?(h.style.width=`calc(100% + ${k_zoom}px`,h.style.height=`calc(100% + ${k_zoom}px`,k.style.right=`calc(20px + ${k_zoom}px)`,_.style.right=`calc(100px + ${k_zoom}px)`,h.setAttribute("zoom",`${k_zoom}`)):L()}));let E,C,M,S,T,z,H,Z,X,q,P,I,Y,B,W,V,G,D,F,K,N=0;h.setAttribute("x","0"),h.setAttribute("y","0"),h.addEventListener("mousedown",(function(t){const e=h.getAttribute("x"),l=h.getAttribute("y");E=t.pageX-+e,C=t.pageY-+l,N=1})),h.addEventListener("mousemove",(function(t){1==N&&(M=t.pageX-E,S=t.pageY-C,h.style.backgroundPosition=`${M}px ${S}px`)})),h.addEventListener("mouseup",(function(t){N=0,h.style.backgroundPosition=`${M}px ${S}px`,(M>=1||M<=-1)&&(h.setAttribute("x",`${M}`),h.setAttribute("y",`${S}`),M=0,S=0)})),h.addEventListener("touchstart",(function(t){const e=h.getAttribute("x"),l=h.getAttribute("y");E=t.changedTouches[0].pageX-+e,C=t.changedTouches[0].pageY-+l,2===t.touches.length&&(T=t.touches[0].pageX,z=t.touches[1].pageX,H=t.touches[0].pageY,Z=t.touches[1].pageY,X=z-T,q=Z-H,P=Math.sqrt(X*X+q*q)),N=1})),h.addEventListener("touchmove",(function(t){if(1==N&&2!==t.touches.length&&(M=t.changedTouches[0].pageX-E,S=t.changedTouches[0].pageY-C,h.style.backgroundPosition=`${M}px ${S}px`),2===t.touches.length){T=t.touches[0].pageX,z=t.touches[1].pageX,H=t.touches[0].pageY,Z=t.touches[1].pageY,X=z-T,q=Z-H,I=Math.sqrt(X*X+q*q),Y=I-P;let e=h.getAttribute("zoom");e>=0?(e=+e+Y/10,h.style.width=`calc(100% + ${e}px`,h.style.height=`calc(100% + ${e}px`,k.style.right=`calc(20px + ${e}px)`,_.style.right=`calc(100px + ${e}px)`,h.setAttribute("zoom",`${e}`)):(L(),Y=0)}})),h.addEventListener("touchend",(function(t){N=0,h.style.backgroundPosition=`${M}px ${S}px`,(M>=1||M<=-1)&&(h.setAttribute("x",`${M}`),h.setAttribute("y",`${S}`))}));let U=0,j=0;for(let e of b)e.addEventListener("mousedown",(function(e){B=e.pageX,D=e.pageY,t=a.getAttribute("position")})),e.addEventListener("mousemove",(function(e){(B>0||D>0)&&(W=e.pageX,F=e.pageY,V=W-B,K=F-D),B>0&&(V>25||V<-25)&&0==U&&(j=1,a.style.transition="null",G=+t+1.2*(W-B),a.style.top="0px",a.style.left=`calc(${G}px)`),D>0&&(K>50||K<-50)&&0==j&&(U=1,a.style.transition="null",a.style.left=`calc(${t}px)`,a.style.top=`calc(${K}px)`,K<0&&(K*=-1),o.style.opacity=""+(1-K/1e3))})),e.addEventListener("mouseup",(function(e){B=0,V>50&&0==U?g(i):V>=-50&&V<=50&&0==U?(t=a.getAttribute("position"),a.style.left=`${t}px`):V<-50&&0==U&&g(-i),D=0,K>50&&0==j||K<-50&&0==j?v():a.style.top="0px",U=0,j=0,V=0,K=0,o.style.opacity="1",a.style.transition="all 0.6s cubic-bezier(0.46, 0.03, 0.52, 0.96)"})),e.addEventListener("touchstart",(function(e){B=e.changedTouches[0].pageX,D=e.changedTouches[0].pageY,t=a.getAttribute("position"),2===e.touches.length&&A()}),!1),e.addEventListener("touchmove",(function(e){2!==e.touches.length&&((B>0||D>0)&&(W=e.changedTouches[0].pageX,F=e.changedTouches[0].pageY,V=W-B,K=F-D),B>0&&(V>25||V<-25)&&0==U&&(j=1,a.style.transition="null",G=+t+1.2*(W-B),a.style.top="0px",a.style.left=`calc(${G}px)`),D>0&&(K>50||K<-50)&&0==j&&(U=1,a.style.transition="null",a.style.left=`calc(${t}px)`,a.style.top=`calc(${K}px)`,K<0&&(K*=-1),o.style.opacity=""+(1-K/1e3)))}),!1),e.addEventListener("touchend",(function(e){B=0,a.style.transition="all 0.6s cubic-bezier(0.46, 0.03, 0.52, 0.96)",V>50&&0==U?g(i):V>=-50&&V<=50&&0==U?(t=a.getAttribute("position"),a.style.left=`${t}px`):V<-50&&0==U&&g(-i),D=0,K>50&&0==j||K<-50&&0==j?v():a.style.top="0px",U=0,j=0,V=0,K=0,o.style.opacity="1"}),!1);function J(){e.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1"),a.style.transition="null";const t=a.getAttribute("position")/i;i=document.documentElement.clientWidth,s=document.documentElement.clientHeight;let n=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${n}px`),a.style.width=i*l.length+"px";const o=document.querySelectorAll("div.k_modal_window_fullscreen_box_block");for(let t=0;t<o.length;t++)o[t].setAttribute("style",`display: inline-block; width: ${i}px; height: calc(var(--vh, 1vh) * 100); background-image: url('${l[t].getAttribute("src")}');`);const c=t*i;a.style.left=`calc(${c}px)`,a.setAttribute("position",`${c}`),e.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"),setTimeout((function(){a.style.transition="all 0.6s cubic-bezier(0.46, 0.03, 0.52, 0.96)"}),100)}J(),window.addEventListener("resize",(function(){J()}))},slider:function(t,e,l){let i={};document.querySelector('meta[name="viewport"]');if(""!=t&&"string"==typeof t?(i.slider=t,""==e&&(i.sliderAutoPlay=1),""==l&&(i.sliderAutoPlayTime=3)):(i.slider=0,i.sliderAutoPlay=0,console.error("id блока для слайдера не может быть "+typeof t)),""!=e&&(i.sliderAutoPlay=e),""!=l&&(i.sliderAutoPlayTime=l),0!=i.slider){const t=document.querySelectorAll(`div#${i.slider} img`);for(let e of t)e.classList.add("k_slider_image");let e;const l=document.querySelector(`div#${i.slider}`);l.style="position: relative; overflow: hidden; background-color: #000; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;";let o=l.offsetWidth,a=l.offsetHeight;const c=document.createElement("div"),d=document.createElement("div"),r=document.createElement("div"),u=document.createElement("div"),b=document.createElement("div"),p=document.createElement("div"),g=document.createElement("div"),f=document.createElement("div"),y=document.createElement("div"),m=document.createElement("div");c.setAttribute("id","k_slider_box"),d.setAttribute("id","k_slider_box_back"),r.setAttribute("id","k_slider_goleft"),r.innerHTML='<svg id="57ffe82a-b38f-4b7d-8c43-39576884824a" class="k_svg_shadow" data-name="Слой 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 106.4 199.64"><defs><style>.efffb7a8-d69f-448f-90c5-d972f71b1dcd{fill:#fff;}</style></defs><title>Go left</title><line class="efffb7a8-d69f-448f-90c5-d972f71b1dcd" x1="99.68" y1="192.92" x2="6.72" y2="99.95"/><path class="efffb7a8-d69f-448f-90c5-d972f71b1dcd" d="M48.66,95.3,80,64,130.17,13.8,141.63,2.34c6.11-6.11,15.6,3.37,9.48,9.48L119.79,43.14,69.61,93.33l-6.86,6.85,26.72,26.71,50.18,50.19,11.46,11.46c6.12,6.11-3.37,15.6-9.48,9.49l-31.32-31.32L60.12,116.52,48.66,105.06a7.06,7.06,0,0,1,0-9.76Z" transform="translate(-46.69 -0.36)"/></svg>',u.setAttribute("id","k_slider_goright"),u.innerHTML='<svg id="9a970390-43da-49a1-b58a-78cf160b8dc8" class="k_svg_shadow" data-name="Слой 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 106.4 199.64"><defs><style>.b9cf38c3-007c-44b8-b55c-a7334b9179df{fill:#fff;}</style></defs><title>Go right</title><line class="b9cf38c3-007c-44b8-b55c-a7334b9179df" x1="6.72" y1="192.92" x2="99.68" y2="99.95"/><path class="b9cf38c3-007c-44b8-b55c-a7334b9179df" d="M151.11,95.3,119.8,64,69.61,13.8,58.15,2.34C52-3.77,42.55,5.71,48.66,11.82L80,43.14l50.19,50.19,6.85,6.85-26.71,26.71L60.12,177.08,48.66,188.54c-6.11,6.11,3.37,15.6,9.49,9.49l31.32-31.32,50.18-50.19,11.46-11.46a7.06,7.06,0,0,0,0-9.76Z" transform="translate(-46.69 -0.36)"/></svg>';const h=document.createElement("div");h.setAttribute("id","k_slider_info"),h.setAttribute("data-title",`Kiwi MI ${kiwimi.version} © Skvortsov Nikita Dmitrievich`),h.innerHTML='<?xml version="1.0" encoding="UTF-8"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="k_svg_shadow" viewBox="0 0 48 48" version="1.1"><g id="surface4624411"><path style=" stroke:none;fill-rule:nonzero;fill:rgba(255,255,255,.5);fill-opacity:1;" d="M 24 0 C 10.742188 0 0 10.742188 0 24 C 0 37.257812 10.742188 48 24 48 C 37.257812 48 48 37.257812 48 24 C 48 10.742188 37.257812 0 24 0 Z M 24 4 C 35.046875 4 44 12.953125 44 24 C 44 35.046875 35.046875 44 24 44 C 12.953125 44 4 35.046875 4 24 C 4 12.953125 12.953125 4 24 4 Z M 24 11.625 C 23.632812 11.625 23.328125 11.617188 23 11.6875 C 22.671875 11.757812 22.367188 11.9375 22.125 12.125 C 21.882812 12.3125 21.703125 12.570312 21.5625 12.875 C 21.421875 13.179688 21.375 13.539062 21.375 14 C 21.375 14.453125 21.421875 14.8125 21.5625 15.125 C 21.703125 15.4375 21.882812 15.6875 22.125 15.875 C 22.367188 16.0625 22.671875 16.171875 23 16.25 C 23.328125 16.328125 23.632812 16.375 24 16.375 C 24.359375 16.375 24.742188 16.328125 25.0625 16.25 C 25.382812 16.171875 25.632812 16.0625 25.875 15.875 C 26.117188 15.6875 26.296875 15.4375 26.4375 15.125 C 26.578125 14.820312 26.6875 14.453125 26.6875 14 C 26.6875 13.539062 26.578125 13.179688 26.4375 12.875 C 26.296875 12.570312 26.117188 12.3125 25.875 12.125 C 25.632812 11.9375 25.382812 11.757812 25.0625 11.6875 C 24.742188 11.617188 24.359375 11.625 24 11.625 Z M 21.5625 18.3125 L 21.5625 36.25 L 26.4375 36.25 L 26.4375 18.3125 Z M 21.5625 18.3125 "/></g></svg>',l.prepend(h),b.setAttribute("id","k_slider_navigation"),p.setAttribute("id","k_slider_description"),g.setAttribute("id","k_slider_autoplay"),f.setAttribute("id","k_slider_autoplay_check"),y.setAttribute("id","k_slider_autoplay_name"),m.setAttribute("id","k_slider_url_block"),c.setAttribute("position","0"),y.innerHTML="Auto play:",m.innerHTML="Link",l.prepend(c),l.append(d);for(let e=0;e<t.length;e++){const l=document.createElement("div");l.setAttribute("class","k_slider_box_block"),l.setAttribute("style",`display: inline-block; width: ${o}px; height: ${a}px; background-image: url('${t[e].getAttribute("src")}');`),c.append(l)}l.prepend(r),l.prepend(u),l.prepend(b),l.prepend(p),l.prepend(g),g.prepend(f),l.prepend(y),l.prepend(m),c.setAttribute("style",`width: ${o*t.length}px; position: absolute; z-index: 2;`);const x=document.querySelectorAll("div.k_slider_box_block");for(let t=0;t<x.length;t++){const t=document.createElement("div");t.setAttribute("class","k_slider_block_miniatur"),b.append(t)}const _=document.querySelectorAll("div.k_slider_block_miniatur");for(let e=0;e<t.length;e++)t[e].setAttribute("style","display: none;"),p.innerHTML=`${t[0].getAttribute("alt")}<br><span class="k_slide_num">Slide: ${"1 / "+_.length}</span><br>${null!=t[0].getAttribute("k_url")?'<span class="k_slider_link" data-title="Этот слайд имеет ссылку, просто нажмите на любом месте">link</span>':""}`,_[0].style.background="#fff",p.style.top="20px",r.style.left="20px",u.style.right="20px",b.style.opacity="1";function s(l){e=c.getAttribute("position"),c.style.left=`calc(${e}px + ${l}px)`,c.setAttribute("position",`${+e+l}`),e<=0-(o*t.length-o)&&l<0&&(c.setAttribute("position","0"),c.style.left="0px"),e>=0&&l>0&&(c.setAttribute("position","-"+(o*t.length-o)),c.style.left=`-${o*t.length-o}px`),e=c.getAttribute("position");let i=e/o;i<0&&(i*=-1),p.innerHTML=`${t[i].getAttribute("alt")}<br><span class="k_slide_num">Slide: ${i+1+" / "+_.length}</span><br>${null!=t[i].getAttribute("k_url")?'<span class="k_slider_link" data-title="Этот слайд имеет ссылку, просто нажмите на любом месте">link</span>':""}`,m.setAttribute("onclick",`window.open('${t[i].getAttribute("k_url")}');`),l<0?(i>0&&(_[i-1].style.background="rgba(255, 255, 255, 0)",_[i-1].style.boxShadow="0 0 4px rgba(0,0,0,0.4)"),0==i&&(_[_.length-1].style.background="rgba(255, 255, 255, 0)",_[_.length-1].style.boxShadow="0 0 4px rgba(0,0,0,0.4)"),_[i].style.background="#fff",_[i].style.boxShadow="0 0 4px rgba(0,0,0,0.8)"):(i>0&&i!=_.length-1&&(_[i+1].style.background="rgba(255, 255, 255, 0)",_[i+1].style.boxShadow="0 0 4px rgba(0,0,0,0.4)"),0==i&&(_[_.length-1].style.background="rgba(255, 255, 255, 0)",_[_.length-1].style.boxShadow="0 0 4px rgba(0,0,0,0.4)",_[i+1].style.background="rgba(255, 255, 255, 0)",_[i+1].style.boxShadow="0 0 4px rgba(0,0,0,0.4)"),i==_.length-1&&(_[0].style.background="rgba(255, 255, 255, 0)",_[0].style.boxShadow="0 0 4px rgba(0,0,0,0.4)"),_[i].style.background="#fff",_[i].style.boxShadow="0 0 4px rgba(0,0,0,0.8)")}for(let e=0;e<_.length;e++)_[e].addEventListener("click",(function(){if(p.innerHTML=`${t[e].getAttribute("alt")}<br><span class="k_slide_num">Slide: ${e+1+" / "+_.length}</span><br>${null!=t[e].getAttribute("k_url")?'<span class="k_slider_link" data-title="Этот слайд имеет ссылку, просто нажмите на любом месте">link</span>':""}`,d.setAttribute("style",`background-image: url('${t[e].getAttribute("src")}');`),0==e){c.style.left="0px",c.setAttribute("position","0");for(let t=0;t<_.length;t++)_[t].style.background="rgba(255, 255, 255, 0)",_[t].style.boxShadow="0 0 4px rgba(0,0,0,0.4)";_[e].style.background="#fff",_[e].style.boxShadow="0 0 4px rgba(0,0,0,0.8)"}else{c.style.left=`calc(${-o*e}px)`,c.setAttribute("position",""+-o*e);for(let t=0;t<_.length;t++)_[t].style.background="rgba(255, 255, 255, 0)",_[t].style.boxShadow="0 0 4px rgba(0,0,0,0.4)";_[e].style.background="#fff",_[e].style.boxShadow="0 0 4px rgba(0,0,0,0.8)"}}));r.addEventListener("click",(function(){s(o)})),u.addEventListener("click",(function(){s(-o)}));let k,w,v,A,$;null!=localStorage.getItem("k_slider_check_info")&&(k=localStorage.getItem("k_slider_check_info")),0==k?(g.classList.add("k_slider_autoplay_off"),f.classList.add("k_slider_autoplay_check_off")):k=1,1==i.sliderAutoPlay&&1==k?w=setInterval((function(){s(-o)}),1e3*i.sliderAutoPlayTime):0==i.sliderAutoPlay&&(g.classList.add("k_slider_autoplay_off"),f.classList.add("k_slider_autoplay_check_off")),g.addEventListener("click",(function(){1==k?(k=0,localStorage.setItem("k_slider_check_info",0),g.classList.add("k_slider_autoplay_off"),f.classList.add("k_slider_autoplay_check_off"),clearInterval(w)):(k=1,localStorage.setItem("k_slider_check_info",1),g.classList.remove("k_slider_autoplay_off"),f.classList.remove("k_slider_autoplay_check_off"),w=setInterval((function(){s(-o)}),1e3*i.sliderAutoPlayTime))}));let L=0;for(let t of x){function n(){L=0,v=0,$>50?s(o):$>=-50&&$<=50?(e=c.getAttribute("position"),c.style.left=`${e}px`):$<-50&&s(-o),$=0,c.style.transition="all 0.6s cubic-bezier(0.46, 0.03, 0.52, 0.96)"}t.addEventListener("mousedown",(function(t){v=t.pageX,e=c.getAttribute("position")})),t.addEventListener("mousemove",(function(t){L=1,v>0&&(A=t.pageX,$=A-v),v>0&&($>25||$<-25)&&(c.style.transition="null",newMoveX=+e+1.2*(A-v),c.style.top="0px",c.style.left=`calc(${newMoveX}px)`)})),t.addEventListener("mouseup",(function(t){n()})),l.addEventListener("mouseleave",(function(){n()})),t.addEventListener("touchstart",(function(t){v=t.changedTouches[0].pageX,e=c.getAttribute("position")}),!1),t.addEventListener("touchmove",(function(t){L=1,v>0&&(A=t.changedTouches[0].pageX,$=A-v),v>0&&($>25||$<-25)&&(c.style.transition="null",newMoveX=+e+1.2*(A-v),console.log("sliderSimpleMoveX = "+$),c.style.top="0px",c.style.left=`calc(${newMoveX}px)`)}),!1),t.addEventListener("touchend",(function(t){L=0,v=0,$>50?s(o):$>=-50&&$<=50?(e=c.getAttribute("position"),c.style.left=`${e}px`):$<-50&&s(-o),$=0,c.style.transition="all 0.6s cubic-bezier(0.46, 0.03, 0.52, 0.96)"}),!1)}for(let e=0;e<x.length;e++)x[e].addEventListener("click",(function(){setTimeout((function(){0==L&&null!=t[e].getAttribute("k_url")&&("display: block;"!=d.getAttribute("style")?(d.setAttribute("style","display: block;"),m.setAttribute("style","display: block;"),m.setAttribute("onclick",`window.open('${t[e].getAttribute("k_url")}');`)):(d.removeAttribute("style"),m.removeAttribute("style")))}),100)})),d.addEventListener("click",(function(){"display: block;"!=d.getAttribute("style")?(d.setAttribute("style","display: block;"),m.setAttribute("style","display: block;")):(d.removeAttribute("style"),m.removeAttribute("style"))}));window.addEventListener("resize",(function(){!function(){c.style.transition="null";const e=c.getAttribute("position")/o;o=l.offsetWidth,a=l.offsetHeight,c.style.width=o*t.length+"px";const i=document.querySelectorAll("div.k_slider_box_block");for(let e=0;e<i.length;e++)i[e].setAttribute("style",`display: inline-block; width: ${o}px; height: ${a}px; background-image: url('${t[e].getAttribute("src")}');`);const s=e*o;c.style.left=`calc(${s}px)`,c.setAttribute("position",`${s}`),setTimeout((function(){c.style.transition="all 0.6s cubic-bezier(0.46, 0.03, 0.52, 0.96)"}),100)}()}))}}};
